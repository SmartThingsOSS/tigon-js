!function(e){function n(r){if(t[r])return t[r].exports;var s=t[r]={exports:{},id:r,loaded:!1};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}var t={};return n.m=e,n.c=t,n.p="/",n(0)}([function(e,n,t){"use strict";function r(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n["default"]=e,n}function s(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),o=t(1),i=r(o),u=i.getUserAgent(),c=function(){function e(n){s(this,e),this.messageHandlers=[],this.messages=new Map,this.defaultMessageHandler=n&&n.defaultMessageHandler||null}return a(e,[{key:"_removeMessage",value:function(e){var n=this.messages.get(e);return this.messages["delete"](e),n}},{key:"addMessageHandler",value:function(e){i.isFunction(e)&&this.messageHandlers.push(e)}},{key:"removeMessageHandler",value:function(e){var n=this.messageHandlers.indexOf(e);n>=0&&this.messageHandlers.splice(n,1)}},{key:"send",value:function(e){var n=this;if(!e)return Promise.reject("No message was sent.");var t={id:i.createUUID(),payload:e};return new Promise(function(e,r){n.messages.set(t.id,{onSuccess:e,onError:r});var s=JSON.stringify(t);u.ios?webkit.messageHandlers.tigon.postMessage(t):u.android||u.tizen?window.tigonMessageHandler.handleMessage(s):u.windowsphone?window.external.notify(s):n.defaultMessageHandler?n.defaultMessageHandler(s):r("Browser/OS is not supported.")})}},{key:"receivedMessage",value:function(e){this.messageHandlers.forEach(function(n){n(e)})}},{key:"receivedSuccessResponse",value:function(e,n){var t=this._removeMessage(e);t&&i.isFunction(t.onSuccess)&&t.onSuccess(n)}},{key:"receivedErrorResponse",value:function(e,n){var t=this._removeMessage(e);t&&i.isFunction(t.onError)&&t.onError(n)}}]),e}();n["default"]=c},function(e,n){"use strict";function t(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===n?t:3&t|8).toString(16)})}function r(e){return e&&"function"==typeof e}function s(){var e=navigator&&navigator.userAgent||"";return{ios:/(ipod|iphone|ipad)/i.test(e),android:/(android)/i.test(e),windowsPhone:/windows phone/i.test(e),tizen:/tizen/i.test(e)}}Object.defineProperty(n,"__esModule",{value:!0}),n.createUUID=t,n.isFunction=r,n.getUserAgent=s}]);
//# sourceMappingURL=tigon.js.map